# Production Environment Configuration Template
# Copy this file to .env.production and fill in the actual values

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
DOCKER_REGISTRY_URL=your-registry.com/
IMAGE_TAG=latest
BUILD_NUMBER=
BUILD_DATE=

# =============================================================================
# DOMAIN AND SSL CONFIGURATION
# =============================================================================
USER_APP_DOMAIN=app.yourdomain.com
ANALYTICS_DASHBOARD_DOMAIN=analytics.yourdomain.com
SSL_CERT_PATH=./ssl-certs

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
USER_APP_NAME=User Journey Analytics
USER_APP_VERSION=1.0.0
ANALYTICS_APP_NAME=Analytics Dashboard
ANALYTICS_APP_VERSION=1.0.0

# =============================================================================
# API ENDPOINTS
# =============================================================================
API_BASE_URL=https://api.yourdomain.com
ANALYTICS_API_BASE_URL=https://api.yourdomain.com/analytics
WEBSOCKET_URL=wss://api.yourdomain.com/ws
ANALYTICS_WEBSOCKET_URL=wss://api.yourdomain.com/ws/analytics
ANALYTICS_REALTIME_ENDPOINT=wss://api.yourdomain.com/ws/realtime
ANALYTICS_AUTH_ENDPOINT=https://api.yourdomain.com/auth/analytics

# =============================================================================
# AWS CONFIGURATION
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=...
AWS_MOCK_MODE=false

# DynamoDB Configuration
# Table names match what's actually deployed in AWS (without -prod suffix)
DYNAMODB_TABLE_PREFIX=user-journey-analytics-
DYNAMODB_USER_EVENTS_TABLE=user-events
DYNAMODB_USER_SESSIONS_TABLE=user-sessions
DYNAMODB_ANALYTICS_SUMMARY_TABLE=analytics-summary
DYNAMODB_AUDIT_LOGS_TABLE=audit-logs
DYNAMODB_STRUGGLE_SIGNALS_TABLE=struggle-signals
DYNAMODB_VIDEO_ENGAGEMENT_TABLE=video-engagement
DYNAMODB_USER_PROFILES_TABLE=user-profiles
DYNAMODB_READ_CAPACITY=10
DYNAMODB_WRITE_CAPACITY=10

# Kinesis Configuration
KINESIS_STREAM_NAME=user-journey-analytics-user-events
KINESIS_SHARD_COUNT=2

# S3 Configuration
S3_BUCKET_NAME=user-journey-analytics

# SQS Configuration
AWS_SQS_EVENT_PROCESSING_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/user-journey-analytics-event-processing
AWS_SQS_EVENT_PROCESSING_DLQ_URL=https://sqs.us-east-1.amazonaws.com/123456789012/user-journey-analytics-event-processing-dlq
AWS_SQS_STRUGGLE_SIGNALS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/user-journey-analytics-struggle-signals
AWS_SQS_VIDEO_ANALYSIS_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/user-journey-analytics-video-analysis
AWS_SQS_INTERVENTION_EXECUTION_QUEUE_URL=https://sqs.us-east-1.amazonaws.com/123456789012/user-journey-analytics-intervention-execution

# Bedrock Configuration
BEDROCK_AGENT_ID=EAFOPIE4UH
BEDROCK_AGENT_ALIAS_ID=5REFDBZCJU

# Nova Configuration
NOVA_MODEL_ID=amazon.nova-micro-v1:0
NOVA_MAX_TOKENS=1000
NOVA_TEMPERATURE=0.3
NOVA_TIMEOUT_SECONDS=30

# SageMaker Configuration
SAGEMAKER_EXIT_RISK_ENDPOINT=user-journey-analytics-exit-risk-endpoint
SAGEMAKER_MODEL_THRESHOLD=0.5

# =============================================================================
# FIREBASE CONFIGURATION
# =============================================================================
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_API_KEY=AIza...
FIREBASE_AUTH_DOMAIN=your-firebase-project.firebaseapp.com
FIREBASE_STORAGE_BUCKET=your-firebase-project.appspot.com
FIREBASE_MESSAGING_SENDER_ID=123456789012
FIREBASE_APP_ID=1:123456789012:web:abcdef123456
FIREBASE_CREDENTIALS_PATH=./firebase-service-account-prod.json

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-min-256-bits
JWT_EXPIRATION=3600
ENCRYPTION_KEY=your-32-character-encryption-key
TOKEN_REFRESH_INTERVAL=3600000
SESSION_TIMEOUT=7200000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
RATE_LIMIT_RPM=1000
RATE_LIMIT_BURST=100

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ALLOWED_ORIGINS=https://app.yourdomain.com,https://analytics.yourdomain.com

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
ROOT_LOG_LEVEL=WARN
LOG_FILE_PATH=./logs

# =============================================================================
# NGINX CONFIGURATION
# =============================================================================
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_VIDEO_LIBRARY=true
ENABLE_CALCULATOR=true
ENABLE_DOCUMENT_UPLOAD=true
ENABLE_PERSONA_SWITCHER=true
ENABLE_AMAZON_Q=true
ENABLE_EXPORT=true
ENABLE_REALTIME=true
ENABLE_ADVANCED_FILTERS=true
ENABLE_USER_SEGMENTATION=true
ANALYTICS_ENABLED=true
DEBUG_MODE=false

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
EVENT_BATCH_SIZE=20
EVENT_FLUSH_INTERVAL=3000
OFFLINE_QUEUE_SIZE=200
ANALYTICS_REFRESH_INTERVAL=60000
EXPORT_MAX_RECORDS=50000
CHART_ANIMATION_DURATION=200
DATA_RETENTION_DAYS=365
MAX_CONCURRENT_EXPORTS=5
REALTIME_BUFFER_SIZE=2000
PAGINATION_SIZE=100
CHART_MAX_DATA_POINTS=2000
DEBOUNCE_DELAY=200

# =============================================================================
# RESILIENCE CONFIGURATION
# =============================================================================
RESILIENCE_CB_FAILURE_THRESHOLD=5
RESILIENCE_CB_TIMEOUT_DURATION=60000
RESILIENCE_CB_SUCCESS_THRESHOLD=3
RESILIENCE_RETRY_MAX_ATTEMPTS=3
RESILIENCE_RETRY_INITIAL_DELAY=1000
RESILIENCE_RETRY_BACKOFF_MULTIPLIER=2.0
RESILIENCE_RETRY_MAX_DELAY=30000

# =============================================================================
# DLQ CONFIGURATION
# =============================================================================
DLQ_PROCESSING_ENABLED=true
DLQ_PROCESSING_INTERVAL=30000
DLQ_PROCESSING_BATCH_SIZE=10
DLQ_MAX_RETRY_ATTEMPTS=3

# =============================================================================
# PORT CONFIGURATION
# =============================================================================
USER_APP_PORT=3000
ANALYTICS_DASHBOARD_PORT=3001
BACKEND_PORT=8080